<div class="br-select">
  <div
    class="br-input"
    [class.disabled]="disabled()"
    [attr.aria-expanded]="isOpen()"
    [attr.aria-controls]="panelId()"
    aria-haspopup="listbox"
  >
    <input
      #inputElement
      type="text"
      [id]="id()"
      [placeholder]="placeholder()"
      [disabled]="disabled()"
      [value]="displayValue()"
      [attr.aria-activedescendant]="activeDescendantId()"
      (input)="onSearch($event)"
      (keydown)="handleKeyDown($event)"
      (click)="toggle()"
    />
    <button
      class="br-button"
      type="button"
      aria-label="Exibir lista"
      tabindex="-1"
      (click)="toggle()"
    >
      <i
        class="fas"
        [class.fa-angle-down]="!isOpen()"
        [class.fa-angle-up]="isOpen()"
        aria-hidden="true"
      ></i>
    </button>
  </div>

  @if (isOpen()) {
  <div
    class="br-list d-block"
    role="listbox"
    [id]="panelId()"
    (mousedown)="$event.preventDefault()"
  >
    <ng-content></ng-content>
  </div>
  }
</div>
